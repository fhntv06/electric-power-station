# Проект виртуальной подстанции

## Оглавление:
<ul>
  <ol><a href="#description">Описание проекта</a></ol>
  <ol><a href="#idea">Идея сценариев</a></ol>
  <ol><a href="#assets">Директории проекта Assets</a></ol>
  <ol><a href="#lib">Библиотеки / пакеты (Package manager)</a></ol>
  <ol><a href="#controllers">Контроллеры</a></ol>
  <ol><a href="#front">Front-End</a></ol>
  <ol><a href="#back">Back-End</a></ol>
  <ol><a href="#data">Хранение данных</a></ol>
  <ol><a href="#contact">Разработчик</a></ol>
</ul>

</br>

<h2 id="description">Описание проекта</h2>
<p>
  Проект создан в рамках дипломной работы в 2023м году.
  </br>
  Цель работы создания программы для отработки противоаварийных действий электротехническим персоналом объектов электроэнергетики.
</p>
<p>Версия Unity: <b>2020.3.28f1</b></p>

<h2 id="idea">Идея сценариев</h2>
Планируется реализация нескольких сценариев.
Каждый сценарий реализуется по шаблону, включающему основные этапы.

  ### Описание этапов сценария (таймлайн):
  1. Появление на сцене;
  2. Получение вводной части задания;
  3. Возникновение чрезвычайной ситуации (ЧС);
  4. Ликвидация ЧС;
  5. Окончание прохождения сценария и подведение итогов.

Первый сценарий "Обрыв фазы на стороне низшего напряжения ОПН второй линии" прописан в виде методов в папке сценарии в файле ScenarioOPN.cs. Скрипт вешается на объект с которым происходит что-то в случае ЧС.
<br />
<b>Описание первого сценария</b>:
  - после получения вводной сотрудник производит обход территории.
  - далее сотрудник возвращается на рабочее место и происходит переход и смена номера этапа.
  - далее происходится ЧП: загораются лампы на шкафах управления, кабель (поврежденный) меняет свое положение и создается эмитация кз с помощью созданных партиклов.
  - далее сотрутрудник устраняет кз путем изолирования и отключения участка совершая переключения, сообщает по телефону о возникновении аварии и делает запись в журнал.
  - сотрудник завершает выполнение пройдя анкету проверки знаний о случившемся ЧП и перейдя на окно статистики. 
<br />

<h2 id="assets">Директории проекта Assets</h2>
<p><u>/Assets/[название папки]</u></p>
<table border="0">
  <thead>
    <tr>
      <td><b>Содержание папки</b></td>
      <td><--- ></td>
      <td><b>Название папки</b></td>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Анимации</td>
      <td><---></td>
      <td>Animations</td>
    </tr>
    <tr>
      <td>Звуки</td>
      <td><---></td>
      <td>Audio</td>
    </tr>
    <tr>
      <td>Хранение данных</td>
      <td><---></td>
      <td>Data</td>
    </tr>
    <tr>
      <td>Эффекты</td>
      <td><---></td>
      <td>Effects</td>
    </tr>
    <tr>
      <td>Элементы окружения</td>
      <td><---></td>
      <td>Enviroment</td>
    </tr>
    <tr>
      <td>Материалы</td>
      <td><---></td>
      <td>Materials</td>
    </tr>
    <tr>
      <td>Модели</td>
      <td><---></td>
      <td>Models</td>
    </tr>
    <tr>
      <td>Префабы</td>
      <td><---></td>
      <td>Prefabs</td>
    </tr>
    <tr>
      <td>Сцены</td>
      <td><---></td>
      <td>Scenes</td>
    </tr>
    <tr>
      <td>Скрипты</td>
      <td><---></td>
      <td>Scripts</td>
    </tr>
    <tr>
      <td>Спрайты / картинки</td>
      <td><---></td>
      <td>Sprites</td>
    </tr>
    <tr>
      <td>Окна интерфейса</td>
      <td><---></td>
      <td>Windows</td>
    </tr>
  </tbody>
</table>
<br>

<br />

<h2 id="lib">Библиотеки / пакеты (Package manager)</h2>
<ul>
  <ol><b>Conifers</b> - пакет предоставляет набор лодов деревьев.</ol>
  <ol><b>MeshCombiner</b> - пакет предоставляет возможность сбора несокльких мешей в один. Полезен в случаях, когда имеется много одинаоквых объектов.</ol>
  <ol><b>PostPropcessing</b> - пакет предоставляет возможность создания дополнителных эффектов. Придает более красивую картинку, но требует дополнительных ресурсов.</ol>
</ul>

</br>

<h2 id="controllers">Контроллеры</h2>

### Аудио
**Путь**: Assets/Scripts/Audio/

##### AudioController
- отвечает за работу с аудио.

### Игровые объекты сцены
**Путь**: Assets/Scripts/GameObject/
##### ShowOrbitObject 
- отвечает за просмотр игрового объекта в отдельном окне.

##### SwitcherElectricController
- отвечает за переключения ламп индикации и поворот ключей управления на шкафах управления.

##### TelephoneController
- отвечает за управление телефоном.

### Игрок
**Путь**: Assets/Scripts/Player/

##### BallsActionsController
- содержит методы дял подсчета баллами.

##### CameraController
- управление камерой игрока.

##### MoveController
- управление движением игрока.

##### MovePhysicController
- физическое перемещение игрока.

##### RagdollController
- управление ragdoll для персонажа.

##### RaycastController
- raycast с предметами;
- запуск методов при взаимодействии с нужными предметами.

##### RulesInfringementController
- отвечает за заботу с ошибками и проверку нарушений правил.

##### SwitcherAnimationController
- отвечает за переключение анимаций у персонажа (не для капсуль-персонажа).

##### ThingController
- отвечает за взаимодействие с вещами;
- проверка надета ли вещь.

### Сервер
**Путь**: Assets/Scripts/ResponseServer/

##### CardStruct и 
- прописана структура данных для карточек.

##### MethodsResponse
- отвечает за работу с запросами к back-end'у.

##### ResponseStruct
- прописаны какие типы данных у структур которые могут прийти с back-end'a.

### Окна интерфейса
**Путь**: Assets/Scripts/GameObject/Windows/
##### AnswerController
- отвечает за проверку правильности выбора ответа(ов).

##### Authentification
- включает в себя логику авторизации и регистрации.
- отвечается а логику работы форм.

##### FormingListController
- отвечает за формирование списков карточек: экзаменов, инструкций, правил и в личном кабинете;
- отвечает за получение данных и отправку запроса на контроллер для записи в базу данных. 

##### Navigation
- отвечает за всю навигацию по окнам;
- по открытию и закрытию сцены;
- установка режима прохождения.

##### ScrollBarController
- включает логику по работе с элементами, которые должны измениться при определенном значении скролбара. 

##### SortingController
- отвечает за сортировку карточек.

##### ViewTextController
- отвечает за формирование заголовков и параграфов.
</br>
<h2 id="front">Front-End</h2>
Представляет из себя: игровую сцену и интерфейс. Включает в себя навигацию, элементы интерфейса и взаможействия пользователя с игрой.

</br>

<h2 id="front">Back-End</h2>
Реализован на взаимодействии по протоколу HTTP между API Unity и веб-сервером.</br>
Динамические данные, а также данные пользователей хранятся в базе данных - PhpMyAdmin.</br>
За получение и отправку данных на контроллеры отвечает файл <i>MethodsResponse</i>. За получение структуры данных отвечают: <i>ResponseStruct</i> и <i>CardStruct</i>.  

</br>

<h2 id="data">Хранение данных</h2>
Хранение данных производится в /Assets/Data. Точнее производится хранение шаблонов данных - тех данных которые являются статичными и не требуют внесения изменений из-за действий пользователя.</br>
Данные представляют из себя объекты со свойствами и полями - <i>ScriptableObject</i>.

</br>

<h3 id="contact">Контакты разработчика</h3>
<blockquote>E-mail: <a href="mailto:fhntv1357246@mail.ru">fhntv1357246@mail.ru</a></blockquote>
